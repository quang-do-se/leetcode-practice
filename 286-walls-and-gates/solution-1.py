from collections import deque
from typing import List

# Accepted
class Solution:
    def wallsAndGates(self, rooms: List[List[int]]) -> None:
        # Find doors
        doors = []

        for row in range(len(rooms)):
            for col in range(len(rooms[row])):
                if rooms[row][col] == 0:
                    doors.append((row, col))

        print(doors)
        for door in doors:
            self.build_door_distance(rooms, door)


    def build_door_distance(self, rooms, door) -> None:
        directions = [(-1, 0), (0, -1), (1, 0), (0, 1)]
        queue = deque()        
        visited = set()

        queue.append((door[0], door[1]))
        visited.add((door[0], door[1]))

        step = 0
        
        while len(queue) > 0:
            queue_len = len(queue)
            
            for _ in range(queue_len):
                current_row, current_col = queue.popleft()
                
                rooms[current_row][current_col] = min(
                    step, rooms[current_row][current_col]
                )

                # Add valid neighbors
                for direction in directions:
                    neighbor_row = current_row + direction[0]
                    neighbor_col = current_col + direction[1]

                    if (neighbor_row, neighbor_col) in visited:
                        continue
                    if neighbor_row < 0 or neighbor_row > len(rooms) - 1:
                        continue
                    if neighbor_col < 0 or neighbor_col > len(rooms[current_row]) - 1:
                        continue

                    neighbor_cell = rooms[neighbor_row][neighbor_col]

                    if neighbor_cell <= 0:
                        continue

                    queue.append((neighbor_row, neighbor_col))
                    visited.add((neighbor_row, neighbor_col))

            step += 1


sol = Solution()
room = [
    [
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
        2147483647,
    ],
    [
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        2147483647,
        0,
    ],
]
sol.wallsAndGates(room)
print(room)
